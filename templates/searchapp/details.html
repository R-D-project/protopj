<!-- テンプレートの継承先 -->
{% extends 'base.html' %}

{% block title %}商品詳細{% endblock %}

{% block header %}
    {% include 'accounts/authheader.html' %}
{% endblock %}

{% block msg %}
    {% include 'accounts/logoutmsg.html' %}
{% endblock %}

{% block body %}
<!-- humanizeの呼び出し -->
{% load humanize %}
<div class="container details">
	{% if goods_details|length == 0 %}
	   <!-- 詳細ページが存在しない場合(商品情報削除と詳細ページ表示が同タイミングで発生) -->
	   <p>検索結果が存在しません。</p>
    <!-- 詳細ページが存在する場合 -->
    {% else %}
    <!-- bootstrapでテーブルの表示を定義 -->
	<table class="bg-white table table-bordered">
		<thead>
			{% for form in goods_details %}
			{% if forloop.first %}
			<tr>
				<th><label for="hcate">上位カテゴリ名</label></th>
				<td id="hcate">{{ form.categoryid.highcategoryid.highcategoryname }}</td>
			</tr>
			<tr>
				<th><label for="cate">カテゴリ名</th></label>
				<td id="cate">{{ form.categoryid.categoryname }}</td>
			</tr>
			<tr>
				<th><label for="goodsname">商品名</th></label>
				<td id="goodsname">{{ form.goodsname }}</td>
			</tr>
			<tr>
				<th><label for="price">価格（￥）※税抜き</th></label>
				<!-- intcomma(数値3桁区切りで','を打つ) -->
				<td id="price" align="right">{{ form.price| intcomma }}</td>
			</tr>
			{% endif %}
			{% endfor %}
			<form action="" method="POST" name="selform">{% csrf_token %}
				{{ size_form }}
				{{ color_form }}
			</form>
			<tr>
				<th><label>在庫有無</label></th>
				<td id="zaiko">
				{% if zaiko_form|length == 0 %}
				-
				{% else %}
				    {%if zaiko_form == '在庫無' %}
				    <font color="red">{{zaiko_form}}</font>
				    {% else %}
				    <font color="black"> {{ zaiko_form}}</font>
				    {% endif %}
				{% endif %}
				</td>
			</tr>
		</thead>
	</table>
	{% endif %}
</div>
{% endblock %}
