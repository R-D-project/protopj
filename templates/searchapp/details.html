{% extends 'searchapp/base.html' %}

{% block content %}
<div class ="container" >
    <q style  ="align: center">
    <!-- 詳細ページが存在しない場合(商品情報削除と詳細ページ表示が同タイミングで発生) -->
    {% if goodsdetails|length == 0 %}
        <p>検索結果が存在しません。</p>
    <!-- 詳細ページが存在する場合 -->
    {% else %}

            <table class="bg-white table table-bordered">
                <thead class="thead-dark">
                {% for form in goodsdetails %}
                    <tr>
                        <th>上位カテゴリ名</th>
                            <td>{{ form.categoryid.highcategoryid.highcategoryname }}</td>
                    </tr>
                    <tr>
                        <th>カテゴリ名</th>
                            <td>{{ form.categoryid.categoryname }}</td>
                    </tr>
                    <tr>
                        <th>商品名</th>
                            <td id = "goodsname">{{ form.goodsname }}</td>
                    </tr>
                    <tr>
                        <th>価格（￥）※税抜き</th>
                            <td align="right">{{ form.price }}</td>
                    </tr>
                    <tr>
                        <th>サイズ</th>
                            <td>

                                <form action="" method="post" name="sizefm">
                                    {% csrf_token %}
                                    <select name="sizeselect" onChange="sizeChange()">
                                        <option id ="0" value="-">サイズをお選びください</option>
                                        {% for sform in size_form %}
                                        <option id = "{{ forloop.counter}}" value ="{{sform.sizename }}">
                                        {{ sform.sizename }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </form>
                            </td>
                    </tr>
                    <tr>
                        <th>色</th>
                            <td>
                                <form action="" method="post" name="colorfm">
                                    {% csrf_token %}
                                    <select name="colorselect" onChange="colorChange()">
                                        <option id = "0" value ="-">色をお選びください</option>
                                        {% for cform in color_form %}
                                        <option id = "{{ forloop.counter }}" value ="{{ cform.colorname }}">
                                        {{ cform.colorname }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </form>
                            </td>
                    </tr>
                    <tr>
                        <th>在庫有無</th>
                            <td id ="zaiko">

                            </td>
                    </tr>
                    <tr>
                        <th>お試し</th>
                            <td>
                            </td>
                    </tr>
                {% endfor %}
                </thead>
            </table>

    {% endif %}

    </q>
</div>
{% endblock %}